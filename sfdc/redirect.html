<!DOCTYPE html>
<html lang="en" ng-app='app'>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>OAuth Redirect</title>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
 <link rel="stylesheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />

 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-touch.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-animate.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-messages.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-sanitize.js"></script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-utils/0.1.1/angular-ui-utils.min.js"></script>

 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

 <link rel="stylesheet" href="../../css/navbar-blue.css">


</head>
<body ng-controller="MainCtrl" class="container">

<div class="row">
 <div class="col-lg-6">
   <p>Token info: {{urlParams.access_token}}</p>
    <p>instance_url info: {{urlParams.instance_url}}</p>
    <a class="btn btn-info" href="bobj-editor.html">Redirect</a>
 </div>
</div>



<script type="text/javascript">
var app = angular.module('app',  []);

var GScope;
app.controller('MainCtrl', function($scope) {
  GScope = $scope;

  var query;
  if (location.search)  query = location.search.substr(1);
  if (location.href.indexOf('#') !== -1) query = location.href.split('#')[1]

  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  })
  $scope.urlParams = result;
  window.localStorage['urlParams'] = angular.toJson(  $scope.urlParams);


  if ( result.code ) { $scope.oauthCode = result.code }
  if ( result.access_token ) { $scope.oauthToken = result.access_token }

});
</script>

</body>
</html>
